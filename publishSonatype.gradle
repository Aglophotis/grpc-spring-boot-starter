project['signing.keyId']=System.getenv('GPG_ID')
project['signing.password']=System.getenv('GPG_PASSWORD')
project['signing.secretKeyRingFile']='/home/travis/.gnupg/secring.gpg'

['nexusPassword', 'nexusUsername'].each{
    if (System.env[it])
        project[it] = System.env[it]
}





apply plugin: 'io.codearte.nexus-staging'
apply plugin: "de.marcphilipp.nexus-publish"

def isRelease  = !(version ==~ /.*SNAPSHOT/)
[closeAndReleaseRepository,closeRepository,releaseRepository].each { t ->
    t.onlyIf {
        isRelease
    }
}





